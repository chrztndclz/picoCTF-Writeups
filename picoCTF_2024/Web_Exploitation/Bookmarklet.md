
## Bookmarklet

**Platform:** picoCTF 2024

**Author:** JEFFERY JOHN

**Category:** Web Exploitation

**Difficulty:** Easy

Tags:
#picoCTF_2024 
#Web_Exploitation 
#Easy 

---

## Description

Why search for the flag when I can make a bookmarklet to print it for me?

Additional details will be available after launching your challenge instance.

http://titan.picoctf.net:53167/

---

## Hints
- A bookmarklet is a bookmark that runs JavaScript instead of loading a webpage.
- What happens when you click a bookmarklet?
- Web browsers have other ways to run JavaScript too.

---

## Analysis

This challenge provides a webpage containing JavaScript that is intended to be run as a bookmarklet. The script contains an encrypted flag and a key, and the decryption logic is visible in the JavaScript itself. Because bookmarklets simply execute JavaScript, we can run the provided code directly in the browser console instead. By doing so, we decrypt the flag without needing to install anything or actually create a bookmark.

The challenge focuses on understanding how bookmarklets work and recognizing that JavaScript in the page is fully accessible for analysis and execution.

---

## Methodology

**Step 1:** View web page 

http://titan.picoctf.net:53167/

**Step 2:** Copy the javascript file in text area 


<img width="1908" height="805" alt="image" src="https://github.com/user-attachments/assets/288cafde-1e95-4c90-9fde-18c817dae6ef" />

        javascript:(function() {
            var encryptedFlag = "àÒÆÞ¦È¬ëÙ£ÖÓÚåÛÑ¢ÕÓÉÕËÆÒÇÚËí";
            var key = "picoctf";
            var decryptedFlag = "";
            for (var i = 0; i < encryptedFlag.length; i++) {
                decryptedFlag += String.fromCharCode((encryptedFlag.charCodeAt(i) - key.charCodeAt(i % key.length) + 256) % 256);
            }
            alert(decryptedFlag);
        })();
    

**Step 3:** Inspect page source and run the javascript code in the browser console 


<img width="1917" height="361" alt="image" src="https://github.com/user-attachments/assets/37d4e201-911b-4f76-8cf2-60ad023bdb2b" />

This code will decrypted the flag

---

## Flag

picoCTF{p@g---------cdfe}

---

## Reflection

This was a straightforward introduction to bookmarklets and JavaScript deobfuscation. The key lesson is that JavaScript running in the browser is always visible and executable through the console, making it easy to analyze how data is being processed or decrypted. Instead of relying on UI elements, developers—and attackers—can directly run code in browser tools, which is a common tactic in web exploitation challenges.

---

## Tools

Browser Developer Tools (Console)	- Executed the JavaScript decryption routine directly.

----

## References

[JavaScript Bookmarklets](https://developer.mozilla.org/en-US/docs/Web/Guide/Bookmarks/Bookmarklets)

[Console Tools](https://developer.chrome.com/docs/devtools/console)
